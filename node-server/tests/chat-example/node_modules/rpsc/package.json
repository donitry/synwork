{
  "name": "rpsc",
  "version": "0.0.2",
  "description": "Small plugin that ensures separate channel pub-sub and single redisClient connection for any number of connected clients.",
  "main": "index.js",
  "author": {
    "name": "Jezternz",
    "email": "jezternz@gmail.com"
  },
  "homepage": "https://github.com/Jezternz/node-redis-pubsub",
  "repository": {
    "type": "git",
    "url": "git://github.com/Jezternz/node-redis-pubsub.git"
  },
  "dependencies": {},
  "readme": "I ended up writing a small node plugin to allow for many pub-sub clients but only require 2 redis connections instead of a new one on every single socketio connection, it should work in general, figured someone else may find use for it.\n\nThis code assumed you have socket.io running and setup, basically in this example any number of socket.io clients can connect and it will always still only use 2 redis connections, but all clients can subscribe to their own channels. In this example, all clients get a message 'sweet message!' after 10 seconds.\n\nExample with socket.io:\n\n    var\n        rPubSub = require('rpsc');\n\n    var \n        redOne = redis.createClient(port, host),\n        redTwo = redis.createClient(port, host);\n\n    rPubSub.init(redOne);\n\n    io.sockets.on('connection', function(socket){\n        var cps = rPubSub.createClient();\n        cps.onMessage(function(channel, message){\n            socket.emit('message', message);\n        });\n        io.sockets.on('disconnect', function(socket){\n            // Dont actually need to unsub, because end() will cleanup all subs, \n            // but if you need to sometime during the connection lifetime, you can.\n            cps.unsubscribe('cool_channel');\n            cps.end();\n        });\n        cps.subscribe('cool_channel')\n    });\n\n    setTimeout(function(){\n        redTwo.publish('cool_channel', 'sweet message!');\n    },10000);\n    \nAny issues please let me know :)\n",
  "readmeFilename": "README.md",
  "_id": "rpsc@0.0.2",
  "dist": {
    "shasum": "bc8bd21907840632a88b3d6d729dfd1918ec6ad4",
    "tarball": "http://registry.npmjs.org/rpsc/-/rpsc-0.0.2.tgz"
  },
  "_from": "rpsc@",
  "_resolved": "https://registry.npmjs.org/rpsc/-/rpsc-0.0.2.tgz",
  "_npmVersion": "1.2.17",
  "_npmUser": {
    "name": "jezternz",
    "email": "jezternz@gmail.com"
  },
  "maintainers": [
    {
      "name": "jezternz",
      "email": "jezternz@gmail.com"
    }
  ],
  "directories": {},
  "_shasum": "bc8bd21907840632a88b3d6d729dfd1918ec6ad4"
}
